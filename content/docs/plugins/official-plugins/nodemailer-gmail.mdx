---
title: Nodemailer Gmail Plugin
description: Send emails via Gmail SMTP using Nodemailer
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { Card, Cards } from 'fumadocs-ui/components/card';
import { Accordion, Accordions } from 'fumadocs-ui/components/accordion';
import { Step, Steps } from 'fumadocs-ui/components/steps';

<div className="flex gap-2 mb-4">
  <LLMCopyButton markdownUrl="/docs/plugins/official-plugins/nodemailer-gmail.mdx" />
  <ViewOptions 
    markdownUrl="/docs/plugins/official-plugins/nodemailer-gmail.mdx"
    githubUrl="https://github.com/SimpleNotificationSystem/simplens-docs/blob/main/content/docs/plugins/official-plugins/nodemailer-gmail.mdx"
  />
</div>

---

## What is Nodemailer Gmail Plugin

The `@simplens/nodemailer-gmail` plugin enables email delivery through **Gmail SMTP** using the popular [Nodemailer](https://nodemailer.com/) library.

## How It Works

This plugin creates a Nodemailer transporter configured for Gmail's SMTP servers. When a notification is sent:

1. The plugin receives the notification payload
2. Replaces any `{{variable}}` placeholders in the message
3. Auto-detects if the message is HTML or plain text
4. Sends the email via Gmail SMTP

<Callout type="info">
  Gmail has sending limits: ~500 emails/day for regular accounts and ~2,000/day for Google Workspace.
</Callout>

---

## Installation

```bash
npm run plugin:install @simplens/nodemailer-gmail
```
<Callout type="info">
See the [Plugin Installation Guide](./index.mdx#installation) for installing plugins in your simplens-core
</Callout>

---

## Configuration

Add the plugin to your `simplens.config.yaml` if you used `Config-first` method from [Plugin Instattion Guide](./index.mdx#installation):

```yaml title="simplens.config.yaml"
providers:
  - package: "@simplens/nodemailer-gmail"
    id: nodemailer-gmail
    credentials:
      EMAIL_USER: ${EMAIL_USER}
      EMAIL_PASS: ${EMAIL_PASS}
    optionalConfig: #Optional
      EMAIL_HOST: ${EMAIL_HOST} 
      EMAIL_PORT: ${EMAIL_PORT}
      EMAIL_FROM: ${EMAIL_FROM}
    options:
      priority: 1
      rateLimit:
        maxTokens: 100
        refillRate: 10

channels:
  email:
    default: "nodemailer-gmail"
```

### Required Credentials

| Key          | Description                          |
|--------------|--------------------------------------|
| `EMAIL_USER` | Your Gmail address                   |
| `EMAIL_PASS` | Gmail App Password (not regular password) |

### Optional Config

| Key          | Default           | Description                |
|--------------|-------------------|----------------------------|
| `EMAIL_HOST` | `smtp.gmail.com`  | SMTP host                  |
| `EMAIL_PORT` | `587`             | SMTP port (use `465` for SSL) |
| `EMAIL_FROM` | `EMAIL_USER`      | Sender email address       |

### Rate Limit

| Key          | Default | Description                              |
|--------------|---------|------------------------------------------|
| `maxTokens`  | `100`   | Max tokens in bucket                     |
| `refillRate` | `10`    | Tokens refilled per second (~100/min max) |

---

## Gmail App Password Setup

<Callout type="warn">
  You **cannot** use your regular Gmail password. You must generate an App Password.
</Callout>

<Steps>

### Enable 2-Factor Authentication
Go to your Google Account security settings and enable 2FA.

### Generate App Password
Navigate to [App Passwords](https://myaccount.google.com/apppasswords) and create a new password for "Mail".

### Use the App Password
Set `EMAIL_PASS` to the generated 16-character password.

</Steps>

---

## Environment Variables

```bash title=".env"
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=xxxx-xxxx-xxxx-xxxx
EMAIL_FROM=your-email@gmail.com  # Optional
EMAIL_HOST=smtp.gmail.com        # Optional
EMAIL_PORT=587                   # Optional
```

---

## Notification Payload

- You can easily get and configure this request payload from `Payload Studio` in [Admin Dashboard](../core/admin-dashboard#payload-studio)

```json
{
  "request_id": "uuid-v4",
  "client_id": "uuid-v4",
  "channel": "email",
  "recipient": {
    "user_id": "user-123",
    "email": "recipient@example.com"
  },
  "content": {
    "subject": "Welcome!",
    "message": "Hello {{name}}, your order #{{order_id}} is confirmed."
  },
  "variables": {
    "name": "John",
    "order_id": "12345"
  }
}
```

---

## Features

| Feature | Description |
|---------|-------------|
| **HTML & Plain Text** | Auto-detects content type |
| **Template Variables** | Supports `{{key}}` syntax |
| **Rate Limiting** | Configurable token bucket |
| **Smart Retry** | Classifies errors as retryable or non-retryable |
| **Any SMTP Server** | Works with Gmail or any SMTP provider |
